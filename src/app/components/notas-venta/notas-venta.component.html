<div *ngIf="cargandoPagina" class="center-object" style="width: 15rem; height: 15rem">
  <app-loading></app-loading>
</div>
<div class="container" *ngIf="!cargandoPagina">
  <div class="row">
    <div class="col-md-6">
      <div class="card card-shadow">
        <div class="d-flex align-items-center justify-content-between pl-3 pb-3 pr-3 pt-3">
          <h2 class="card-title marginNulo pl-1">Viaje</h2>
        </div>
        <div class="card-body pt-1">
          <div class="row">
            <div class="col-md-12 col-xs-12">
              <p class="font-weight-bold">{{objViajes.fecha | date: "dd-MM-yyyy"}} - {{objViajes.numero}} {{objViajes.tviaje}}</p>
              <p class=""><span class="font-weight-bold text-danger">Observaciones:</span> <span class="text-danger">{{ this.objViajes.obs}}</span></p>
            </div>
            <div class="col-md-6 col-xs-12">
              <!--<p class="font-weight-bold text-right">% {{porcentaje | number:'2.1-2'}}</p>-->
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div class="card card-shadow">
        <div class="d-flex align-items-center justify-content-between pl-3 pb-3 pr-3 pt-3">
          <h2 class="card-title marginNulo pl-1">Nave</h2>
        </div>
        <div class="card-body pt-1">
          <div class="row">
            <div class="col-md-12 col-xs-12">
              <p class="font-weight-bold">{{ this.nave.codigo}}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <mat-form-field>
        <mat-label>Filtros</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
      </mat-form-field>

      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort>

          <!-- ID Column -->
          <ng-container matColumnDef="Empresa">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Fecha </th>
            <td mat-cell *matCellDef="let row"> {{row.fecha_pedido  | date: "dd-MM-yyyy"}} </td>
          </ng-container>

          <!-- Progress Column -->
          <ng-container matColumnDef="Fecha">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Numero </th>
            <td mat-cell *matCellDef="let row"> {{row.empresa?.toUpperCase()}} {{row.numero}} {{row.descripcion}} </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="Numero">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Prioridad </th>
            <td mat-cell *matCellDef="let row"> {{row.prioridad}} </td>
          </ng-container>

           <!-- Name Column -->
           <ng-container matColumnDef="Cliente">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> NÂº Cliente </th>
            <td mat-cell *matCellDef="let row"> {{row.solicitante}} </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="Nombre">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nombre </th>
            <td mat-cell *matCellDef="let row"> {{row.nombre_solic}} </td>
          </ng-container>



          <ng-container matColumnDef="Kilos">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Kilos </th>
            <td mat-cell *matCellDef="let row"> {{row.peso}} </td>
          </ng-container>



          <!--<ng-container matColumnDef="Estado">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Estado </th>
            <td mat-cell *matCellDef="let row"> {{row.ESTADONV}} </td>
          </ng-container>-->

          <ng-container matColumnDef="Ruteo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Ruteo </th>
            <td mat-cell *matCellDef="let row"> {{row.ruteo}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="verDetalle(row)"></tr>

          <!-- Row shown when there is no matching data. -->
          <tr class="mat-row" *matNoDataRow>
            <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
          </tr>
        </table>

        <mat-paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
    </div>
  </div>
</div>

